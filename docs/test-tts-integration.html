<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Teste TTS - Jarvis</title>\n    <style>\n        body {\n            background: #000;\n            color: #00d4ff;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            padding: 20px;\n            text-align: center;\n        }\n        .test-container {\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 30px;\n            border: 2px solid #00d4ff;\n            border-radius: 15px;\n            background: rgba(0, 212, 255, 0.1);\n        }\n        button {\n            background: #111;\n            border: 2px solid #00d4ff;\n            color: #00d4ff;\n            padding: 10px 20px;\n            margin: 10px;\n            border-radius: 8px;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        button:hover {\n            background: rgba(0, 212, 255, 0.2);\n        }\n        textarea {\n            width: 100%;\n            height: 100px;\n            background: rgba(0, 0, 0, 0.5);\n            border: 2px solid #00d4ff;\n            color: #00d4ff;\n            padding: 10px;\n            border-radius: 8px;\n            font-size: 16px;\n            margin: 10px 0;\n        }\n        .status {\n            margin: 20px 0;\n            padding: 10px;\n            border-radius: 8px;\n            background: rgba(0, 212, 255, 0.1);\n        }\n    </style>\n</head>\n<body>\n    <div class=\"test-container\">\n        <h1>ü§ñ Teste de Integra√ß√£o TTS - Jarvis</h1>\n        \n        <div class=\"status\" id=\"status\">\n            ‚è≥ Carregando sistema TTS...\n        </div>\n        \n        <textarea id=\"testText\" placeholder=\"Digite o texto para o Jarvis falar...\">\nOl√°! Eu sou o Jarvis, seu assistente virtual com voz cristalina. Todos os sistemas est√£o operacionais e prontos para ajud√°-lo.\n        </textarea>\n        \n        <div>\n            <button onclick=\"testSpeak()\">üó£Ô∏è Falar Texto</button>\n            <button onclick=\"testStop()\">‚èπÔ∏è Parar</button>\n            <button onclick=\"testSettings()\">‚öôÔ∏è Configura√ß√µes</button>\n            <button onclick=\"testVoices()\">üé§ Listar Vozes</button>\n        </div>\n        \n        <div>\n            <button onclick=\"testJarvisPhrases()\">ü§ñ Frases do Jarvis</button>\n            <button onclick=\"testAutoSpeak()\">üîÑ Toggle Auto-Speak</button>\n            <button onclick=\"testQuickConfig()\">‚ö° Configura√ß√£o R√°pida</button>\n        </div>\n        \n        <div id=\"voicesList\" style=\"margin-top: 20px; text-align: left; font-size: 12px;\"></div>\n    </div>\n\n    <!-- jQuery -->\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js\"></script>\n    \n    <!-- Jarvis TTS -->\n    <script src=\"jarvis-tts.js\"></script>\n    \n    <script>\n        let tts = null;\n        \n        $(document).ready(function() {\n            // Aguardar o TTS carregar\n            setTimeout(() => {\n                if (window.jarvisTTS) {\n                    tts = window.jarvisTTS;\n                    updateStatus('‚úÖ Sistema TTS carregado com sucesso!');\n                    \n                    // Teste inicial\n                    setTimeout(() => {\n                        tts.speak('Sistema de voz do Jarvis inicializado com sucesso!');\n                    }, 1000);\n                } else {\n                    updateStatus('‚ùå Erro: Sistema TTS n√£o carregou');\n                }\n            }, 2000);\n        });\n        \n        function updateStatus(message) {\n            document.getElementById('status').textContent = message;\n        }\n        \n        function testSpeak() {\n            if (!tts) {\n                updateStatus('‚ùå TTS n√£o dispon√≠vel');\n                return;\n            }\n            \n            const text = document.getElementById('testText').value;\n            if (!text.trim()) {\n                updateStatus('‚ö†Ô∏è Digite algum texto primeiro');\n                return;\n            }\n            \n            updateStatus('üó£Ô∏è Falando...');\n            tts.speak(text)\n                .then(() => updateStatus('‚úÖ Fala conclu√≠da!'))\n                .catch(err => updateStatus(`‚ùå Erro: ${err.message}`));\n        }\n        \n        function testStop() {\n            if (tts) {\n                tts.stop();\n                updateStatus('‚èπÔ∏è Fala interrompida');\n            }\n        }\n        \n        function testSettings() {\n            if (tts) {\n                tts.showTTSSettings();\n            } else {\n                updateStatus('‚ùå TTS n√£o dispon√≠vel');\n            }\n        }\n        \n        function testVoices() {\n            if (!tts) {\n                updateStatus('‚ùå TTS n√£o dispon√≠vel');\n                return;\n            }\n            \n            const voicesList = document.getElementById('voicesList');\n            const voices = tts.voices;\n            \n            if (voices.length === 0) {\n                voicesList.innerHTML = '‚ùå Nenhuma voz dispon√≠vel';\n                return;\n            }\n            \n            let html = `<h3>üé§ Vozes Dispon√≠veis (${voices.length}):</h3>`;\n            \n            // Agrupar por idioma\n            const voicesByLang = {};\n            voices.forEach((voice, index) => {\n                const lang = voice.lang;\n                if (!voicesByLang[lang]) {\n                    voicesByLang[lang] = [];\n                }\n                voicesByLang[lang].push({ voice, index });\n            });\n            \n            // Mostrar vozes agrupadas\n            Object.keys(voicesByLang).sort().forEach(lang => {\n                const flag = lang.includes('pt') ? 'üáßüá∑' : lang.includes('en') ? 'üá∫üá∏' : 'üåç';\n                html += `<div style=\"margin: 10px 0;\"><strong>${flag} ${lang}:</strong></div>`;\n                \n                voicesByLang[lang].forEach(({ voice, index }) => {\n                    const isSelected = index === tts.settings.voiceIndex;\n                    const marker = isSelected ? 'üëâ ' : '   ';\n                    const defaultMarker = voice.default ? ' [Padr√£o]' : '';\n                    html += `<div style=\"margin-left: 20px; color: ${isSelected ? '#00ff00' : '#00d4ff'}\">${marker}${voice.name}${defaultMarker}</div>`;\n                });\n            });\n            \n            voicesList.innerHTML = html;\n            updateStatus(`üìã ${voices.length} vozes listadas`);\n        }\n        \n        function testJarvisPhrases() {\n            if (!tts) {\n                updateStatus('‚ùå TTS n√£o dispon√≠vel');\n                return;\n            }\n            \n            const phrases = [\n                'Ol√°! Eu sou o Jarvis, seu assistente virtual.',\n                'Todos os sistemas est√£o operacionais.',\n                'Escaneando ambiente... Nenhuma amea√ßa detectada.',\n                'Conectando aos sistemas... Conex√£o estabelecida.',\n                'Analisando dados... Processamento conclu√≠do.',\n                'Bem-vindo de volta. Como posso ajud√°-lo hoje?',\n                'Sistema de voz funcionando perfeitamente.',\n                'Executando diagn√≥stico completo do sistema...'\n            ];\n            \n            const randomPhrase = phrases[Math.floor(Math.random() * phrases.length)];\n            document.getElementById('testText').value = randomPhrase;\n            \n            updateStatus('üé≤ Frase aleat√≥ria selecionada');\n            testSpeak();\n        }\n        \n        function testAutoSpeak() {\n            if (!tts) {\n                updateStatus('‚ùå TTS n√£o dispon√≠vel');\n                return;\n            }\n            \n            tts.toggleAutoSpeak();\n            updateStatus(`üîÑ Auto-speak: ${tts.settings.autoSpeak ? 'Ativado' : 'Desativado'}`);\n        }\n        \n        function testQuickConfig() {\n            if (!tts) {\n                updateStatus('‚ùå TTS n√£o dispon√≠vel');\n                return;\n            }\n            \n            // Configura√ß√£o r√°pida para portugu√™s brasileiro\n            const ptBrVoices = tts.voices.filter(voice => \n                voice.lang.includes('pt-BR') || voice.lang.includes('pt_BR')\n            );\n            \n            if (ptBrVoices.length > 0) {\n                const femaleVoice = ptBrVoices.find(v => v.name.toLowerCase().includes('female'));\n                const selectedVoice = femaleVoice || ptBrVoices[0];\n                \n                tts.settings.voiceIndex = tts.voices.indexOf(selectedVoice);\n                tts.settings.rate = 1.1;\n                tts.settings.pitch = 1.0;\n                tts.settings.volume = 0.9;\n                tts.settings.autoSpeak = true;\n                tts.saveSettings();\n                \n                updateStatus(`‚ö° Configura√ß√£o otimizada: ${selectedVoice.name}`);\n                tts.speak('Configura√ß√£o otimizada para portugu√™s brasileiro!');\n            } else {\n                updateStatus('‚ö†Ô∏è Nenhuma voz em portugu√™s brasileiro encontrada');\n            }\n        }\n        \n        // Atalhos de teclado\n        document.addEventListener('keydown', function(e) {\n            if (e.ctrlKey && e.key === 'Enter') {\n                e.preventDefault();\n                testSpeak();\n            }\n            if (e.key === 'Escape') {\n                testStop();\n            }\n        });\n    </script>\n</body>\n</html>"